<!doctype html>
<html lang="fa">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Kaydarap</title>
  <meta name="description" content="Kaydarap" />
  <meta name="color-scheme" content="dark">
  <meta name="theme-color" content="#050507" />

  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

  <style>
    /* Allow smooth animation of CSS custom properties (supported in modern Chromium/Safari) */
    @property --hue {
      syntax: "<number>";
      inherits: true;
      initial-value: 195;
    }
    @property --sceneHue {
      syntax: "<number>";
      inherits: true;
      initial-value: 210;
    }
    @property --drinkHue {
      syntax: "<number>";
      inherits: true;
      initial-value: 315;
    }

    :root{
      --bg0:#050507;
      --bg1:#0a0b0e;
      --bg2:#101216;
      --fg:#eaeaf0;
      --muted:#a3a3ae;

      /* RGB Engine */
      --hue: 195;
      --sceneHue: 210;
      --drinkHue: 315;
      --accent: hsl(var(--hue) 100% 62%);
      --accent2: hsl(calc(var(--hue) + 90) 100% 62%);
      --glow: color-mix(in oklab, var(--accent) 22%, transparent);

      --glass: rgba(255,255,255,.14);
      --glass2: rgba(255,255,255,.08);
      --shadow: rgba(0,0,0,.55);

      --heroPad: clamp(16px, 3vw, 38px);
      --heroMax: min(1200px, 94vw);
    }

    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0;
      color:var(--fg);
      background:
        radial-gradient(120% 160% at 50% -10%, var(--bg2) 0%, var(--bg1) 40%, var(--bg0) 100%);
      color-scheme:dark;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
      overflow-x:hidden;
      animation: rgbGlobal 16s linear infinite;
    }
    @keyframes rgbGlobal{
      0%   { --hue: 185; }
      25%  { --hue: 255; }
      50%  { --hue: 330; }
      75%  { --hue: 120; }
      100% { --hue: 185; }
    }

    /* ===== Top Bar (keep, but RGB) ===== */
    .top{
      position:fixed; inset:0 0 auto 0;
      display:flex; align-items:center; gap:.75rem;
      padding:14px 18px calc(env(safe-area-inset-top) + 0px) 18px;
      pointer-events:none;
      z-index:10;
      transition: opacity .22s linear, transform .22s ease;
      will-change: opacity, transform;
    }
    .brand{
      font-weight:800;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:.95rem;
      color:color-mix(in oklab, var(--fg) 88%, var(--accent) 12%);
      opacity:.95;
      user-select:none;
      text-shadow: 0 0 18px color-mix(in oklab, var(--accent) 25%, transparent);
    }
    .planet-wrap{
      position:relative;
      width:86px; height:86px;
      filter: drop-shadow(0 0 18px var(--glow)) drop-shadow(0 0 52px var(--glow));
      pointer-events:none;
    }
    .planet{
      position:relative;
      width:100%; height:100%;
      border-radius:50%;
      background:
        radial-gradient(120% 120% at 30% 30%,
          color-mix(in oklab, var(--accent) 55%, #ffffff 45%) 0%,
          color-mix(in oklab, var(--accent) 85%, #0011ff 15%) 22%,
          #0f1a3a 55%,
          #0b0f24 70%,
          #060810 100%);
      overflow:hidden;
      transform: translateZ(0);
    }
    .planet::before{
      content:"";
      position:absolute; inset:-30%;
      border-radius:50%;
      background: radial-gradient(60% 70% at 20% 25%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.0) 45%, rgba(0,0,0,.55) 70%, rgba(0,0,0,.9) 100%);
      mix-blend-mode:multiply;
    }
    .planet::after{
      content:"";
      position:absolute; inset:-10%;
      border-radius:50%;
      background: conic-gradient(from 0deg, rgba(255,255,255,.08), rgba(255,255,255,0) 30% 100%);
      animation: spin 28s linear infinite;
      mix-blend-mode:screen;
    }
    @keyframes spin{ to{ transform:rotate(360deg) } }
    .ring{
      position:absolute; inset:-20%;
      border-radius:50%;
      background: radial-gradient(60% 15% at 50% 50%,
        color-mix(in oklab, var(--accent) 45%, transparent),
        transparent 65%);
      transform: rotateX(70deg) rotateZ(-25deg);
      filter: blur(0.6px);
      animation: wobble 9s ease-in-out infinite alternate;
    }
    @keyframes wobble{
      from{ transform: rotateX(68deg) rotateZ(-27deg) }
      to{ transform: rotateX(74deg) rotateZ(-23deg) }
    }

    /* ===== Sections ===== */
    .section{ min-height:100vh; position:relative; display:grid; place-items:center; padding:0 16px; }

    /* =========================================================
       SECTION 1 (Hero) - "Chroma Juice" vibe but Kaydarap + RGB
       ========================================================= */
    .hero{
      min-height:100vh;
      padding: calc(var(--heroPad) + 64px) var(--heroPad) var(--heroPad);
      display:grid;
      place-items:center;
    }
    .hero-shell{
      width:var(--heroMax);
      height: min(78vh, 620px);
      border-radius: 26px;
      position:relative;
      overflow:hidden;
      background:
        radial-gradient(120% 120% at 60% 30%,
          color-mix(in oklab, hsl(var(--sceneHue) 80% 55%) 30%, transparent) 0%,
          rgba(255,255,255,0) 55%),
        linear-gradient(115deg,
          color-mix(in oklab, hsl(var(--sceneHue) 65% 20%) 65%, #0a0b0e 35%),
          color-mix(in oklab, hsl(calc(var(--sceneHue) + 30) 65% 18%) 60%, #050507 40%));
      box-shadow:
        0 20px 60px rgba(0,0,0,.55),
        inset 0 0 0 1px rgba(255,255,255,.06);
      animation: heroSceneCycle 12s linear infinite;
      will-change: background;
    }
    @keyframes heroSceneCycle{
      0%   { --sceneHue: 205; --drinkHue: 315; }
      33%  { --sceneHue: 35;  --drinkHue: 28; }
      66%  { --sceneHue: 130; --drinkHue: 135; }
      100% { --sceneHue: 205; --drinkHue: 315; }
    }

    /* Ambient blur overlays like the reference */
    .hero-shell::before{
      content:"";
      position:absolute; inset:-40%;
      background:
        radial-gradient(60% 60% at 30% 40%,
          color-mix(in oklab, hsl(var(--drinkHue) 95% 60%) 35%, transparent),
          transparent 60%),
        radial-gradient(60% 60% at 85% 20%,
          color-mix(in oklab, var(--accent) 22%, transparent),
          transparent 55%),
        radial-gradient(80% 80% at 70% 85%,
          rgba(255,255,255,.06),
          transparent 55%);
      filter: blur(26px);
      opacity:.9;
      pointer-events:none;
    }

    /* Layout grid similar to screenshot: big title left, bottle center, CTA right */
    .hero-grid{
      position:absolute; inset:0;
      display:grid;
      grid-template-columns: 1.1fr 0.9fr 0.9fr;
      gap: clamp(14px, 2vw, 24px);
      padding: clamp(18px, 3.2vw, 38px);
      align-items:center;
    }

    .hero-title-block{
      z-index:2;
      align-self:center;
    }
    .hero-title{
      font-weight:900;
      letter-spacing:-.02em;
      font-size: clamp(46px, 6.2vw, 92px);
      line-height: .92;
      margin:0 0 10px 0;
      color: #ffffff;
      text-shadow: 0 10px 30px rgba(0,0,0,.5);
      user-select:none;
    }
    .hero-sub{
      max-width: 42ch;
      margin:0;
      color: color-mix(in oklab, var(--fg) 70%, var(--accent) 30%);
      opacity:.95;
      font-weight:650;
      text-shadow: 0 10px 26px rgba(0,0,0,.35);
    }

    /* Bottle (CSS glass + liquid) */
    .bottle-stage{
      position:relative;
      display:grid;
      place-items:end center;
      z-index:2;
      height:100%;
    }
    .bottle{
      width: clamp(190px, 18vw, 260px);
      height: clamp(420px, 48vh, 520px);
      position:relative;
      transform: translateY(10px);
      filter:
        drop-shadow(0 26px 40px rgba(0,0,0,.45))
        drop-shadow(0 0 30px color-mix(in oklab, hsl(var(--drinkHue) 95% 60%) 35%, transparent));
    }
    .bottle .glass{
      position:absolute; inset:0;
      border-radius: 34px 34px 44px 44px;
      background:
        linear-gradient(90deg, rgba(255,255,255,.08), rgba(255,255,255,.02) 40%, rgba(255,255,255,.10)),
        radial-gradient(120% 120% at 35% 25%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.10),
        inset 0 0 40px rgba(255,255,255,.06);
      overflow:hidden;
    }
    .bottle .neck{
      position:absolute;
      top:-34px; left:50%;
      width: 64%;
      height: 70px;
      transform: translateX(-50%);
      border-radius: 22px 22px 18px 18px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.10);
      filter: drop-shadow(0 10px 14px rgba(0,0,0,.25));
    }
    .bottle .cap{
      position:absolute;
      top:-56px; left:50%;
      width: 54%;
      height: 30px;
      transform: translateX(-50%);
      border-radius: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.05));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.12);
    }
    .bottle .liquid{
      position:absolute; left:10px; right:10px; bottom:12px;
      height: 78%;
      border-radius: 26px 26px 36px 36px;
      background:
        radial-gradient(120% 120% at 30% 15%,
          color-mix(in oklab, hsl(var(--drinkHue) 95% 65%) 60%, white 40%),
          color-mix(in oklab, hsl(var(--drinkHue) 95% 55%) 85%, #000 15%) 55%,
          color-mix(in oklab, hsl(var(--drinkHue) 95% 45%) 85%, #000 15%) 100%);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.10),
        inset 0 0 24px rgba(0,0,0,.18);
      opacity:.95;
      animation: liquidBreath 2.8s ease-in-out infinite;
    }
    @keyframes liquidBreath{
      0%,100%{ transform: translateY(0); filter: saturate(1.05); }
      50%{ transform: translateY(2px); filter: saturate(1.15); }
    }
    .bottle .label{
      position:absolute; left:0; right:0;
      bottom: 26px;
      text-align:center;
      font-weight:900;
      letter-spacing:.02em;
      color: rgba(255,255,255,.92);
      text-shadow: 0 10px 24px rgba(0,0,0,.5);
      user-select:none;
    }
    .bottle .label small{
      display:block;
      font-weight:800;
      opacity:.85;
      margin-top:6px;
      letter-spacing:.04em;
      color: color-mix(in oklab, #fff 65%, hsl(var(--drinkHue) 95% 70%) 35%);
    }
    .bottle .shine{
      position:absolute; inset:-30%;
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.18), rgba(255,255,255,0));
      transform: rotate(18deg) translateX(-60%);
      animation: shine 3.5s ease-in-out infinite;
      mix-blend-mode: screen;
      opacity:.7;
      pointer-events:none;
    }
    @keyframes shine{
      0%{ transform: rotate(18deg) translateX(-60%); }
      50%{ transform: rotate(18deg) translateX(10%); }
      100%{ transform: rotate(18deg) translateX(80%); }
    }

    /* Right CTA panel like the reference */
    .cta{
      align-self:start;
      justify-self:end;
      width: min(320px, 92%);
      margin-top: 22px;
      padding: 16px 16px;
      border-radius: 18px;
      background:
        radial-gradient(120% 150% at 20% -20%, rgba(255,255,255,.10), rgba(255,255,255,0) 60%),
        linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.08),
        0 16px 30px rgba(0,0,0,.30);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index:2;
    }
    .cta .row{
      display:flex; align-items:center; gap:12px;
      margin-bottom: 12px;
    }
    .mini-bottle{
      width: 44px; height: 74px; border-radius: 12px;
      background:
        radial-gradient(120% 120% at 30% 15%,
          color-mix(in oklab, hsl(var(--drinkHue) 95% 65%) 55%, white 45%),
          color-mix(in oklab, hsl(var(--drinkHue) 95% 45%) 85%, #000 15%) 100%);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.14);
      position:relative;
      overflow:hidden;
    }
    .mini-bottle::after{
      content:"";
      position:absolute; inset:-40%;
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.25), rgba(255,255,255,0));
      transform: rotate(18deg) translateX(-50%);
      animation: shine 3.5s ease-in-out infinite;
      opacity:.55;
      mix-blend-mode: screen;
    }
    .cta .txt{
      display:grid;
      gap:2px;
    }
    .cta .title{
      position:static;
      font-size: 14px;
      font-weight:900;
      letter-spacing:.02em;
      color: rgba(255,255,255,.92);
      text-shadow:none;
    }
    .cta .sub{
      font-size: 12px;
      font-weight:800;
      color: rgba(255,255,255,.75);
    }
    .buy{
      display:flex; align-items:center; justify-content:center;
      gap:10px;
      width:100%;
      border:none;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight:950;
      letter-spacing:.03em;
      cursor:pointer;
      color:#071018;
      background:
        linear-gradient(90deg,
          hsl(var(--drinkHue) 95% 62%),
          hsl(calc(var(--drinkHue) + 40) 95% 62%));
      box-shadow:
        0 10px 22px rgba(0,0,0,.30),
        0 0 28px color-mix(in oklab, hsl(var(--drinkHue) 95% 62%) 35%, transparent);
      transition: transform .16s ease, filter .16s ease;
    }
    .buy:hover{ transform: translateY(-1px); filter: saturate(1.08); }

    /* Ground + chameleon (stylized SVG) */
    .ground{
      position:absolute;
      left:0; right:0; bottom:0;
      height: 32%;
      background:
        radial-gradient(120% 120% at 50% 0%,
          rgba(255,255,255,.08),
          rgba(255,255,255,0) 55%),
        linear-gradient(180deg,
          rgba(255,255,255,.06),
          rgba(0,0,0,.28));
      transform: translateY(28%);
      filter: blur(.2px);
      opacity:.95;
      z-index:1;
    }

    .chameleon{
      position:absolute;
      bottom: 8%;
      left: 18%;
      width: clamp(260px, 34vw, 520px);
      z-index:2;
      filter:
        drop-shadow(0 22px 28px rgba(0,0,0,.45))
        drop-shadow(0 0 26px color-mix(in oklab, hsl(var(--drinkHue) 95% 60%) 30%, transparent));
      transform-origin: center;
      animation: chamMove 6.2s linear infinite;
    }

    /* Move forward toward drink; loop */
    @keyframes chamMove{
      0%{
        transform: translateX(-140px) scale(.92);
        filter: drop-shadow(0 22px 28px rgba(0,0,0,.45)) hue-rotate(0deg);
      }
      70%{
        transform: translateX(140px) scale(1.00);
        filter: drop-shadow(0 22px 28px rgba(0,0,0,.45)) hue-rotate(calc(var(--drinkHue) * 1deg));
      }
      100%{
        transform: translateX(220px) scale(1.03);
        filter: drop-shadow(0 22px 28px rgba(0,0,0,.45)) hue-rotate(calc(var(--drinkHue) * 1deg));
      }
    }

    /* Left small text + “catalog” button like reference (optional) */
    .hero-left-meta{
      position:absolute;
      left: clamp(16px, 3.2vw, 36px);
      bottom: clamp(16px, 3vw, 30px);
      z-index:2;
      width: min(340px, 46vw);
      opacity:.92;
    }
    .hero-left-meta p{
      margin:0 0 12px 0;
      color: rgba(255,255,255,.70);
      font-weight:700;
      line-height:1.35;
      font-size: 12px;
      text-shadow: 0 10px 22px rgba(0,0,0,.35);
    }
    .catalog{
      display:inline-flex; align-items:center; gap:10px;
      border-radius: 14px;
      padding: 10px 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      color: rgba(255,255,255,.88);
      font-weight:900;
      cursor:pointer;
      user-select:none;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .catalog .arrow{
      width: 26px; height: 26px; border-radius: 10px;
      display:grid; place-items:center;
      background:
        linear-gradient(90deg,
          hsl(var(--hue) 100% 60%),
          hsl(calc(var(--hue) + 60) 100% 60%));
      color:#061018;
      font-weight:1000;
    }

    /* Make hero responsive */
    @media (max-width: 980px){
      .hero-shell{ height: min(82vh, 720px); }
      .hero-grid{
        grid-template-columns: 1fr;
        grid-auto-rows: auto;
        align-items:start;
      }
      .bottle-stage{ height:auto; place-items:center; padding-top: 10px; }
      .cta{ justify-self:start; width:min(420px, 96%); margin-top: 8px; }
      .chameleon{ left: 8%; bottom: 6%; width: min(520px, 86vw); }
    }

    /* ===== SECTION 2 (Sphere) ===== */
    .sphere-section{ min-height:100vh; position:relative; }
    .three-wrap{ position:absolute; inset:0; z-index:1; touch-action: pan-y; }
    canvas{ display:block; width:100%; height:100%; will-change: transform; }

    /* ===== SECTION 3 (Links) — RGB border/glow ===== */
    .links{ min-height:100vh; display:flex; align-items:center; justify-content:center; padding:80px 16px; position:relative; }
    .links-inner{ width:min(1100px, 94vw); display:grid; grid-template-columns: 1fr 1fr; gap:24px; align-items:start; }
    .links-title{ grid-column:1/-1; text-align:center; font-weight:900; letter-spacing:.06em; color:#e9faff;
      text-shadow: 0 0 18px color-mix(in oklab, var(--accent) 25%, transparent);
      margin-bottom:8px; font-size: clamp(1.4rem, 3vw, 2rem);
      user-select:none;
    }
    .links-col{ display:grid; gap:24px; }

    .laser-card{
      --cut: 14px;
      --rgb1: hsl(var(--hue) 100% 62%);
      --rgb2: hsl(calc(var(--hue) + 65) 100% 62%);
      --rgb3: hsl(calc(var(--hue) + 130) 100% 62%);

      position:relative;
      display:flex; align-items:center; gap:14px;
      padding:18px 18px;
      color:#dff7ff; text-decoration:none;
      clip-path: polygon(var(--cut) 0, calc(100% - var(--cut)) 0, 100% var(--cut), 100% calc(100% - var(--cut)),
                        calc(100% - var(--cut)) 100%, var(--cut) 100%, 0 calc(100% - var(--cut)), 0 var(--cut));
      background:
        radial-gradient(120% 160% at 10% -20%, color-mix(in oklab, var(--rgb1) 22%, transparent), rgba(16,24,39,.30) 46%, rgba(8,16,24,.35) 70%),
        linear-gradient(180deg, rgba(6,14,20,.55), rgba(10,16,24,.45));
      box-shadow:
        inset 0 0 30px rgba(255,255,255,.06),
        0 10px 26px rgba(17,47,64,.35),
        0 0 26px color-mix(in oklab, var(--rgb2) 18%, transparent);
      backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
      isolation:isolate;
      animation: rgbCards 8s linear infinite;
    }
    @keyframes rgbCards{
      0%{ filter: saturate(1.00); }
      50%{ filter: saturate(1.12); }
      100%{ filter: saturate(1.00); }
    }

    .laser-card::before{
      content:""; position:absolute; inset:0; pointer-events:none;
      padding:1px; border-radius:18px;
      background: conic-gradient(from 210deg,
        rgba(0,0,0,0),
        var(--rgb1),
        rgba(0,0,0,0) 25% 55%,
        var(--rgb2),
        rgba(0,0,0,0) 75%,
        var(--rgb3),
        rgba(0,0,0,0));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
              mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      clip-path: inherit; border:1px solid transparent;
      filter: drop-shadow(0 0 12px color-mix(in oklab, var(--rgb1) 35%, transparent));
      opacity:.95;
    }
    .laser-card::after{
      content:""; position:absolute; inset:0; clip-path: inherit; pointer-events:none;
      background: radial-gradient(50% 140% at 110% -10%,
        color-mix(in oklab, var(--rgb2) 28%, transparent),
        transparent 45%);
      mix-blend-mode:screen;
      opacity:.9;
    }
    .laser-card:hover{
      transform: translateY(-3px);
      box-shadow:
        inset 0 0 40px rgba(255,255,255,.08),
        0 14px 30px rgba(25,85,115,.45),
        0 0 34px color-mix(in oklab, var(--accent) 25%, transparent);
      filter: saturate(1.15);
    }
    .laser-ico{
      width:40px; height:40px;
      display:grid; place-items:center;
      flex:0 0 auto;
      filter: drop-shadow(0 0 12px color-mix(in oklab, var(--accent) 28%, transparent));
    }
    .laser-text{ display:grid; line-height:1.2 }
    .laser-name{ font-weight:900; letter-spacing:.02em; color:#eafaff }
    .laser-handle{ color:#bfeeff; opacity:.95; font-weight:800 }

    .ico-stroke{ stroke: hsl(var(--hue) 100% 62%); }
    .ico-stroke2{ stroke: hsl(calc(var(--hue) + 70) 100% 62%); }
    .ico-fill{ fill: hsl(var(--hue) 100% 62%); }
    .ico-fill2{ fill: hsl(calc(var(--hue) + 70) 100% 62%); }

    @media (max-width:860px){
      .links-inner{ grid-template-columns: 1fr; }
    }

  </style>
</head>

<body>
  <!-- Top bar -->
  <div class="top" id="topbar">
    <div class="planet-wrap" aria-hidden="true">
      <div class="planet"><div class="ring"></div></div>
    </div>
    <div class="brand">Kaydarap</div>
  </div>

  <!-- SECTION 1: Hero -->
  <section class="hero" id="hero">
    <div class="hero-shell">
      <div class="hero-grid">
        <div class="hero-title-block">
          <h1 class="hero-title">Kaydarap</h1>
          <p class="hero-sub">RGB experience — smooth color shifts. Infinite drinks. Chameleon adapts.</p>
        </div>

        <div class="bottle-stage">
          <div class="bottle" aria-hidden="true">
            <div class="cap"></div>
            <div class="neck"></div>
            <div class="glass">
              <div class="liquid"></div>
              <div class="shine"></div>
            </div>
            <div class="label">
              Kaydarap
              <small>taste in every color</small>
            </div>
          </div>
        </div>

        <div class="cta">
          <div class="row">
            <div class="mini-bottle" aria-hidden="true"></div>
            <div class="txt">
              <div class="title">Smoothies</div>
              <div class="sub">RGB • Infinite loop</div>
            </div>
          </div>
          <button class="buy" type="button" onclick="document.getElementById('sphere').scrollIntoView({behavior:'smooth'})">
            Start <span style="font-weight:1000">→</span>
          </button>
        </div>
      </div>

      <div class="hero-left-meta">
        <p>Chameleon moves forward and smoothly shifts color to match each drink. Loop never ends.</p>
        <div class="catalog" onclick="document.getElementById('sphere').scrollIntoView({behavior:'smooth'})">
          Go to sphere <span class="arrow">→</span>
        </div>
      </div>

      <div class="ground" aria-hidden="true"></div>

      <!-- Stylized chameleon SVG (placeholder). Replace with your exact PNG/3D later for 100% match -->
      <svg class="chameleon" viewBox="0 0 900 380" aria-hidden="true">
        <defs>
          <linearGradient id="skin" x1="0" x2="1">
            <stop offset="0" stop-color="hsl(var(--drinkHue) 95% 55%)"/>
            <stop offset="1" stop-color="hsl(calc(var(--drinkHue) + 30) 95% 55%)"/>
          </linearGradient>
          <linearGradient id="belly" x1="0" x2="1">
            <stop offset="0" stop-color="rgba(255,255,255,.50)"/>
            <stop offset="1" stop-color="rgba(255,255,255,.08)"/>
          </linearGradient>
        </defs>

        <!-- body -->
        <path d="M170 245
                 C210 160, 345 120, 470 135
                 C615 152, 710 190, 780 232
                 C820 255, 815 302, 772 315
                 C700 337, 565 345, 440 330
                 C320 316, 220 300, 170 245Z"
              fill="url(#skin)" opacity=".98"/>

        <!-- belly highlight -->
        <path d="M230 250
                 C260 210, 360 185, 465 198
                 C580 212, 660 242, 710 270
                 C650 302, 540 316, 440 306
                 C340 296, 270 276, 230 250Z"
              fill="url(#belly)" opacity=".25"/>

        <!-- head -->
        <path d="M780 232
                 C835 210, 870 230, 878 260
                 C886 295, 850 320, 806 305
                 C790 300, 778 290, 772 315
                 C815 302, 820 255, 780 232Z"
              fill="url(#skin)" opacity=".98"/>

        <!-- eye -->
        <circle cx="842" cy="255" r="26" fill="rgba(255,255,255,.55)"/>
        <circle cx="852" cy="258" r="10" fill="rgba(0,0,0,.55)"/>

        <!-- legs -->
        <path d="M300 305 C280 340, 250 355, 220 350 C245 320, 260 300, 300 305Z" fill="rgba(0,0,0,.25)"/>
        <path d="M500 318 C480 350, 450 360, 420 355 C445 330, 462 312, 500 318Z" fill="rgba(0,0,0,.22)"/>

        <!-- tail -->
        <path d="M170 245
                 C120 270, 110 320, 150 350
                 C110 340, 80 300, 95 260
                 C110 220, 150 215, 170 245Z"
              fill="url(#skin)" opacity=".95"/>
      </svg>
    </div>
  </section>

  <!-- SECTION 2: Sphere (RGB smooth) -->
  <section class="sphere-section" id="sphere">
    <div class="three-wrap" id="three-container"></div>
  </section>

  <!-- SECTION 3: Links (RGB border/glow only; content unchanged) -->
  <section class="links" id="links">
    <div class="links-inner">
      <div class="links-title">Connect with <span style="color:color-mix(in oklab, var(--accent) 70%, #ffffff 30%)">Kaydarap</span></div>

      <div class="links-col">
        <a class="laser-card" href="https://instagram.com/Kaydarap" target="_blank" rel="noopener">
          <div class="laser-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="34" height="34" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="3" y="3" width="18" height="18" rx="5" class="ico-stroke" stroke-width="1.6"/>
              <circle cx="12" cy="12" r="4.2" class="ico-stroke2" stroke-width="1.6"/>
              <circle cx="17.2" cy="6.8" r="1.2" class="ico-fill"/>
            </svg>
          </div>
          <div class="laser-text"><span class="laser-name">Instagram</span><span class="laser-handle">@Kaydarap</span></div>
        </a>

        <a class="laser-card" href="https://t.me/Kaydarap" target="_blank" rel="noopener">
          <div class="laser-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="34" height="34" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 4L3.8 11.1c-.8.3-.8 1.4-.1 1.7l4.5 1.7 1.8 4.6c.3.8 1.4.8 1.7 0l1.7-4.5 4.5-8.7c.4-.9-.5-1.6-1.2-1.2z" class="ico-fill" opacity=".85"/>
              <path d="M9.5 14.4l1.9 4.9 1.7-4.4 4.7-9.2-11.5 8.1 3.2.6z" class="ico-stroke2" stroke-width="1" opacity=".9"/>
            </svg>
          </div>
          <div class="laser-text"><span class="laser-name">Telegram</span><span class="laser-handle">@Kaydarap</span></div>
        </a>

        <a class="laser-card" href="https://github.com/Kaydarap" target="_blank" rel="noopener">
          <div class="laser-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="34" height="34" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2C6.5 2 2 6.6 2 12.2c0 4.5 2.9 8.3 6.9 9.6.5.1.7-.2.7-.5v-2c-2.8.6-3.4-1.2-3.4-1.2-.5-1.2-1.1-1.6-1.1-1.6-.9-.6.1-.6.1-.6 1 .1 1.6 1 1.6 1 .9 1.6 2.5 1.1 3.1.8.1-.7.4-1.1.7-1.4-2.2-.3-4.5-1.1-4.5-5 0-1.1.4-2 1-2.7-.1-.3-.4-1.3.1-2.6 0 0 .8-.3 2.8 1 .8-.2 1.6-.3 2.4-.3s1.6.1 2.4.3c2-1.3 2.8-1 2.8-1 .5 1.3.2 2.3.1 2.6.7.7 1 1.6 1 2.7 0 3.9-2.3 4.7-4.5 5 .4.3.8 1 .8 2v3c0 .3.2.6.7.5 4-1.3 6.9-5.1 6.9-9.6C22 6.6 17.5 2 12 2z" class="ico-fill2" opacity=".95"/>
            </svg>
          </div>
          <div class="laser-text"><span class="laser-name">GitHub</span><span class="laser-handle">@Kaydarap</span></div>
        </a>
      </div>

      <div class="links-col">
        <a class="laser-card" href="https://wa.me/16025662108" target="_blank" rel="noopener">
          <div class="laser-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="34" height="34" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 11.6c0 4.6-3.8 8.4-8.4 8.4-1.5 0-2.9-.4-4.1-1.1l-3.3 1.1 1.1-3.3c-.7-1.2-1.1-2.7-1.1-4.1C4.2 7 8 3.2 12.6 3.2 16.2 3.2 20 7 20 11.6z" class="ico-stroke" stroke-width="1.6"/>
              <path d="M9.4 8.9c-.3.8-.1 1.8.7 3 .9 1.3 2.2 2.2 3.5 2.6.8.2 1.4.1 1.8-.2l.8-.8c.2-.2.2-.5 0-.7l-1.3-1.1c-.2-.2-.5-.1-.7.1l-.4.5c-.2.2-.5.2-.8.1-.5-.3-1.2-.8-1.7-1.4-.2-.2-.2-.6 0-.8l.4-.4c.2-.2.2-.5 0-.7l-1-1.2c-.2-.2-.5-.2-.7 0l-.9.9z" class="ico-fill2" opacity=".9"/>
            </svg>
          </div>
          <div class="laser-text"><span class="laser-name">WhatsApp</span><span class="laser-handle">+1 (602) 566-2108</span></div>
        </a>

        <a class="laser-card" href="mailto:Kaydarap@gmail.com" target="_blank" rel="noopener">
          <div class="laser-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="34" height="34" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="3" y="5" width="18" height="14" rx="2" class="ico-stroke" stroke-width="1.6"/>
              <path d="M4 6.5l8 6 8-6" class="ico-stroke2" stroke-width="1.6" fill="none"/>
            </svg>
          </div>
          <div class="laser-text"><span class="laser-name">Email</span><span class="laser-handle">Kaydarap@gmail.com</span></div>
        </a>

        <a class="laser-card" href="https://discord.com/users/Kaydarap" target="_blank" rel="noopener">
          <div class="laser-ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="34" height="34" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.1 6.3c1.6-.7 2.9-.8 2.9-.8l.2.4c-1.8.4-3 1.1-3 1.1 2.5-1.2 5.8-1.2 8.3 0 0 0-1.2-.8-3-1.1l.2-.4s1.3 0 2.9.8c0 0 1.9 2 2.1 6.1 0 0-1.2 2-4.3 2.1 0 0-.5-.6-.9-1.1 1.8-.5 2.5-1.4 2.5-1.4-.6.4-1.2.6-1.8.8-.8.3-1.5.4-2.2.4s-1.4-.1-2.2-.4c-.6-.2-1.2-.5-1.8-.8 0 0 .7.9 2.5 1.4-.4.5-.9 1.1-.9 1.1-3.1-.1-4.3-2.1-4.3-2.1.2-4.1 2.1-6.1 2.1-6.1z" class="ico-fill2" opacity=".95"/>
              <circle cx="9.6" cy="11.3" r="1.1" fill="#0a1828"/>
              <circle cx="14.4" cy="11.3" r="1.1" fill="#0a1828"/>
            </svg>
          </div>
          <div class="laser-text"><span class="laser-name">Discord</span><span class="laser-handle">@Kaydarap</span></div>
        </a>
      </div>
    </div>
  </section>

  <script type="module">
    import * as THREE from "https://unpkg.com/three@0.157.0/build/three.module.js";

    const isTouch = matchMedia('(pointer: coarse)').matches;
    const topbar = document.getElementById('topbar');
    const hero = document.getElementById('hero');
    const sphereSection = document.getElementById('sphere');

    // Fade topbar on mobile scroll (your existing behavior)
    if (isTouch){
      let ticking = false;
      const onScroll = ()=>{
        if (ticking) return;
        ticking = true;
        requestAnimationFrame(()=>{
          const heroBottom = hero.offsetTop + hero.offsetHeight * 0.60;
          const sphereTop = sphereSection.offsetTop;
          const y = window.scrollY || window.pageYOffset;
          let t = (y - heroBottom) / Math.max(1, (sphereTop - heroBottom));
          t = Math.min(1, Math.max(0, t));
          const opacity = 1 - t;
          topbar.style.opacity = opacity.toFixed(3);
          topbar.style.transform = `translateY(${(-12 * t).toFixed(2)}px)`;
          ticking = false;
        });
      };
      window.addEventListener('scroll', onScroll, {passive:true});
      onScroll();
    }

    // ---------- THREE.JS (Section 2) ----------
    const wrap = document.getElementById('three-container');
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true, powerPreference: 'high-performance' });
    renderer.setPixelRatio(Math.min(devicePixelRatio, 2));
    wrap.appendChild(renderer.domElement);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(50, 1, 0.1, 100);
    const cameraZ = 9;
    camera.position.set(0, 0, cameraZ);

    const autoGroup = new THREE.Group();
    const interGroup = new THREE.Group();
    autoGroup.add(interGroup);
    scene.add(autoGroup);

    // Slight ambient; color updated in RGB loop too
    const amb = new THREE.AmbientLight(0x88ccff, 0.55);
    scene.add(amb);

    const R = 3.2, DIAM = R*2;
    const shellCount = 4800, haloCount = 4800;

    function randomOnSphere(r){
      const u = Math.random(), v = Math.random();
      const theta = 2 * Math.PI * v;
      const phi = Math.acos(2*u - 1);
      const s = Math.sin(phi);
      return new THREE.Vector3(r*s*Math.cos(theta), r*Math.cos(phi), r*s*Math.sin(theta));
    }

    // Shell points
    const shellPositions = new Float32Array(shellCount*3);
    for(let i=0;i<shellCount;i++){
      const p = randomOnSphere(R + (Math.random()-0.5)*0.02);
      shellPositions.set([p.x,p.y,p.z], i*3);
    }
    const shellGeom = new THREE.BufferGeometry();
    shellGeom.setAttribute('position', new THREE.BufferAttribute(shellPositions,3));
    const shellMat = new THREE.PointsMaterial({
      color: 0x6bdcff, size:0.035, sizeAttenuation:true,
      transparent:true, opacity:0.95, blending:THREE.AdditiveBlending, depthWrite:false
    });
    const shellPts = new THREE.Points(shellGeom, shellMat);
    interGroup.add(shellPts);

    // Halo points
    const haloPositions = new Float32Array(haloCount*3);
    for(let i=0;i<haloCount;i++){
      const p = randomOnSphere(R*(1.04+Math.random()*0.35));
      haloPositions.set([p.x,p.y,p.z], i*3);
    }
    const haloGeom = new THREE.BufferGeometry();
    haloGeom.setAttribute('position', new THREE.BufferAttribute(haloPositions,3));
    const haloMat = new THREE.PointsMaterial({
      color: 0x88eeff, size:0.02, sizeAttenuation:true,
      transparent:true, opacity:0.55, blending:THREE.AdditiveBlending, depthWrite:false
    });
    const haloPts = new THREE.Points(haloGeom, haloMat);
    interGroup.add(haloPts);

    // Wireframe sphere (THIS is your "blue lines" -> now RGB)
    const wireMat = new THREE.LineBasicMaterial({ color:0x3bb9ff, transparent:true, opacity:.35 });
    const wire = new THREE.LineSegments(
      new THREE.WireframeGeometry(new THREE.SphereGeometry(R*0.995,32,22)),
      wireMat
    );
    interGroup.add(wire);

    // Orbit group + moon wireframe
    const orbitalGroup = new THREE.Group(); interGroup.add(orbitalGroup);
    const moonMat = new THREE.LineBasicMaterial({ color:0x9be9ff, transparent:true, opacity:.6 });
    const moon = new THREE.LineSegments(
      new THREE.WireframeGeometry(new THREE.SphereGeometry(0.55,24,18)),
      moonMat
    );
    moon.position.set(R+1.2,0,0); orbitalGroup.add(moon);

    // Interaction
    let targetYaw=0, targetPitch=0;
    let dragging=false, rotating=false;
    let lastX=0, lastY=0, startX=0, startY=0;
    const THRESH = 8; let pointerCount=0;
    const canvas = renderer.domElement;

    canvas.addEventListener('pointerdown', e=>{
      pointerCount++;
      dragging = true;
      rotating = (pointerCount >= 2);
      if (rotating) wrap.style.touchAction='none';
      startX = lastX = e.clientX; startY = lastY = e.clientY;
      try{ canvas.setPointerCapture(e.pointerId); }catch{}
    });

    window.addEventListener('pointermove', e=>{
      if(!dragging && e.pointerType === 'mouse'){
        const x = (e.clientX / window.innerWidth) - 0.5;
        const y = (e.clientY / window.innerHeight) - 0.5;
        targetYaw = x * 0.35; targetPitch = -y * 0.35;
        return;
      }
      if(!dragging) return;
      const dx = e.clientX - lastX, dy = e.clientY - lastY;
      lastX = e.clientX; lastY = e.clientY;
      if(!rotating){
        const totalDX = Math.abs(e.clientX - startX), totalDY = Math.abs(e.clientY - startY);
        if( (totalDX > THRESH || totalDY > THRESH) && (totalDX > totalDY*1.2) ){
          rotating = true;
          wrap.style.touchAction='none';
        } else { return; }
      }
      interGroup.rotation.y += (dx / window.innerWidth) * 2.5;
      interGroup.rotation.x += (dy / window.innerHeight) * 2.5;
      if (e.cancelable) e.preventDefault();
    }, {passive:false});

    window.addEventListener('pointerup', e=>{
      pointerCount = Math.max(0, pointerCount-1);
      dragging=false; rotating=false;
      try{ canvas.releasePointerCapture(e.pointerId); }catch{}
      wrap.style.touchAction='pan-y';
    });

    function computeScaleToFit(){
      const w = wrap.clientWidth || window.innerWidth;
      const h = wrap.clientHeight || window.innerHeight;
      const aspect = w/h;
      const vFOV = THREE.MathUtils.degToRad(camera.fov);
      const visibleH = 2 * Math.tan(vFOV/2) * cameraZ;
      const visibleW = visibleH * aspect;
      const margin = (h < 750) ? 0.78 : 0.85;
      return Math.min(visibleH*margin, visibleW*margin) / DIAM;
    }

    function resize(){
      const w = wrap.clientWidth || window.innerWidth;
      const h = wrap.clientHeight || window.innerHeight;
      renderer.setSize(w, h, false);
      camera.aspect = w/h;
      camera.updateProjectionMatrix();
      const s = computeScaleToFit();
      autoGroup.scale.set(s, s, s);
    }
    new ResizeObserver(resize).observe(wrap);
    window.addEventListener('orientationchange', ()=>setTimeout(resize, 250));

    // Smooth auto spin (same as your old one)
    const autoSpinY = 0.0015;
    const autoSpinX = 0.0006;

    // RGB color helper (smooth HSL -> THREE Color)
    const c1 = new THREE.Color();
    const c2 = new THREE.Color();
    const c3 = new THREE.Color();

    function animate(tMs){
      const t = (tMs || performance.now()) * 0.001;

      autoGroup.rotation.y += autoSpinY;
      autoGroup.rotation.x += autoSpinX;
      interGroup.rotation.y += (targetYaw - interGroup.rotation.y) * 0.08;
      interGroup.rotation.x += (targetPitch - interGroup.rotation.x) * 0.08;
      orbitalGroup.rotation.y += 0.01;

      // ---- RGB SMOOTH: this is the main upgrade you asked for (no sudden jumps) ----
      const hue = (t * 30) % 360; // slow cycle
      c1.setHSL(hue/360, 1.0, 0.62);
      c2.setHSL(((hue+70)%360)/360, 1.0, 0.62);
      c3.setHSL(((hue+140)%360)/360, 1.0, 0.62);

      shellMat.color.copy(c1);
      haloMat.color.copy(c2);
      wireMat.color.copy(c3);
      moonMat.color.copy(c2);

      // small ambient tint
      amb.color.copy(c1);

      renderer.render(scene, camera);
    }

    let rafId=0;
    function startLoops(){
      renderer.setAnimationLoop(animate);
      const tick = (tm)=>{ animate(tm); rafId = requestAnimationFrame(tick); };
      rafId = requestAnimationFrame(tick);
    }
    function stopLoops(){
      renderer.setAnimationLoop(null);
      if (rafId) cancelAnimationFrame(rafId);
      rafId=0;
    }
    document.addEventListener('visibilitychange', ()=>{
      if (document.visibilityState === 'visible') startLoops(); else stopLoops();
    });

    startLoops();
    resize();
  </script>
</body>
</html>
